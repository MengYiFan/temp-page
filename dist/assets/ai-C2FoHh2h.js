const c={FIVE:1e5,FOUR:1e4,THREE:1e3,TWO:100,ONE:10,BLOCKED_FOUR:5e3,BLOCKED_THREE:500,BLOCKED_TWO:50};function I(E,s,o,f,i,r){let e=0,t=s+f,n=o+i;for(;t>=0&&t<15&&n>=0&&n<15&&E[t][n]===r;)e++,t+=f,n+=i;return e}function B(E,s,o,f){if(E[s][o]!==null)return 0;let i=0;const r=[[0,1],[1,0],[1,1],[1,-1]];for(const[e,t]of r){const n=I(E,s,o,-e,-t,f),O=I(E,s,o,e,t,f),l=n+O+1,u=s-e*(n+1)<0||s-e*(n+1)>=15||o-t*(n+1)<0||o-t*(n+1)>=15||E[s-e*(n+1)][o-t*(n+1)]!==null,S=s+e*(O+1)<0||s+e*(O+1)>=15||o+t*(O+1)<0||o+t*(O+1)>=15||E[s+e*(O+1)][o+t*(O+1)]!==null,R=u&&S;l>=5?i+=c.FIVE:l===4?i+=R?c.BLOCKED_FOUR:c.FOUR:l===3?i+=R?c.BLOCKED_THREE:c.THREE:l===2?i+=R?c.BLOCKED_TWO:c.TWO:l===1&&(i+=c.ONE)}return i}function _(E,s,o){let f=-1/0,i={row:7,col:7};const r=s==="black"?"white":"black";if(o==="easy"){const e=[];for(let t=0;t<15;t++)for(let n=0;n<15;n++)E[t][n]===null&&e.push({row:t,col:n});if(e.length>0){const t=Math.floor(Math.random()*e.length);return e[t]}return i}for(let e=0;e<15;e++)for(let t=0;t<15;t++)if(E[e][t]===null){const n=B(E,e,t,s);if(n>=c.FIVE)return{row:e,col:t};const O=B(E,e,t,r);if(O>=c.FIVE)return{row:e,col:t};let l=n+O*.8;if(o==="hard"||o==="expert"){const u=Math.abs(e-7)+Math.abs(t-7),S=Math.max(0,10-u);if(l+=S,o==="expert"){const R=B(E,e,t,s),D=B(E,e,t,r);R>=c.FOUR&&(l+=1e3),D>=c.FOUR&&(l+=800),R>=c.THREE&&(l+=100),D>=c.THREE&&(l+=80)}}l>f&&(f=l,i={row:e,col:t})}return i}export{_ as getBestMove};
